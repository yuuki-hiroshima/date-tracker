{% extends "base.html" %}
{% block content %}
  <h2>経過日</h2>
  <form method="post" action="{{ url_for('elapsed') }}">
    <label for="name">名前</label>
    <input type="text" id="name" name="name" placeholder="例：電池交換">

    <label for="on_date">比較日（YYYY-MM-DD）</label>
    <div class="date-field">
      <!-- ※ name は必ず on_date にする -->
      <input type="date" id="on_date" name="on_date" class="input-date" required>
      <button type="button" class="date-btn"
              onclick="this.previousElementSibling.showPicker && this.previousElementSibling.showPicker()"
              aria-label="カレンダーを開く"></button>
    </div>

    <div>
      <button class="btn primary" type="submit">計算</button>
      <a class="btn" href="{{ url_for('index') }}">トップへ</a>
    </div>
  </form>

  {% if result %}
    <hr>
    <p><strong>結果：</strong>{{ result }}</p>
  {% endif %}
{% endblock %}